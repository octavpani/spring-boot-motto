{"ast":null,"code":"import _asyncToGenerator from \"C:/pleiades/workspace/spring-boot-motto/src/main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/company.service\";\nimport * as i2 from \"src/app/services/motto.service\";\nimport * as i3 from \"@angular/router\";\nexport class MottoDetailsComponent {\n  constructor(companyService, mottoService, route) {\n    this.companyService = companyService;\n    this.mottoService = mottoService;\n    this.route = route;\n    this.phrases = [];\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(() => {\n      this.handleCompanyDetails();\n    });\n  }\n\n  handleCompanyDetails() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const theCompanyId = +_this.route.snapshot.paramMap.get('id');\n      yield _this.companyService.getCompany(theCompanyId).subscribe(data => {\n        _this.company = data;\n      });\n      yield _this.mottoService.getMotto(theCompanyId).subscribe(data => {\n        _this.motto = data;\n        console.log(_this.motto);\n      });\n      yield _this.phrases;\n\n      _this.mottoService.getPhrases(_this.motto);\n\n      console.log(_this.phrases);\n    })();\n  }\n\n}\n\nMottoDetailsComponent.ɵfac = function MottoDetailsComponent_Factory(t) {\n  return new (t || MottoDetailsComponent)(i0.ɵɵdirectiveInject(i1.CompanyService), i0.ɵɵdirectiveInject(i2.MottoService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\n\nMottoDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MottoDetailsComponent,\n  selectors: [[\"app-motto-details\"]],\n  decls: 10,\n  vars: 2,\n  consts: [[1, \"detail-section\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-12\"], [1, \"detail-img\", 3, \"src\"], [\"routerLink\", \"/companies\", 1, \"mt-5\"]],\n  template: function MottoDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"h3\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"a\", 5);\n      i0.ɵɵtext(9, \"\\u4F1A\\u793E\\u4E00\\u89A7\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.company.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.company.companyName);\n    }\n  },\n  dependencies: [i3.RouterLinkWithHref],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb3R0by1kZXRhaWxzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAYA,OAAM,MAAOA,qBAAP,CAA4B;EAOhCC,YAAoBC,cAApB,EACoBC,YADpB,EAEoBC,KAFpB,EAEyC;IAFrB;IACA;IACA;IAJpB,eAAoB,EAApB;EAI8C;;EAE9CC,QAAQ;IACN,KAAKD,KAAL,CAAWE,QAAX,CAAoBC,SAApB,CAA8B,MAAK;MACjC,KAAKC,oBAAL;IACD,CAFD;EAGD;;EAEKA,oBAAoB;IAAA;;IAAA;MAExB,MAAMC,YAAY,GAAW,CAAC,KAAI,CAACL,KAAL,CAAWM,QAAX,CAAoBJ,QAApB,CAA6BK,GAA7B,CAAiC,IAAjC,CAA9B;MAEA,MAAM,KAAI,CAACT,cAAL,CAAoBU,UAApB,CAA+BH,YAA/B,EAA6CF,SAA7C,CACJM,IAAI,IAAG;QACL,KAAI,CAACC,OAAL,GAAeD,IAAf;MACD,CAHG,CAAN;MAMA,MAAM,KAAI,CAACV,YAAL,CAAkBY,QAAlB,CAA2BN,YAA3B,EAAyCF,SAAzC,CACJM,IAAI,IAAG;QACL,KAAI,CAACG,KAAL,GAAaH,IAAb;QAEAI,OAAO,CAACC,GAAR,CAAY,KAAI,CAACF,KAAjB;MACD,CALG,CAAN;MAQA,MAAM,KAAI,CAACG,OAAX;;MAAqB,KAAI,CAAChB,YAAL,CAAkBiB,UAAlB,CAA6B,KAAI,CAACJ,KAAlC;;MAErBC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,OAAjB;IApBwB;EAsBzB;;AAvC+B;;;mBAArBnB,uBAAqBqB;AAAA;;;QAArBrB;EAAqBsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZlCL,+BAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B,EAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B,EAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B;MAIgBA;MACJA;MACAA,+BAAoB,CAApB,EAAoB,IAApB;MACQA;MAAyBA;MAOrCA;MAAwCA;MAAIA;;;;MAV/BA;MAAAA;MAGDA;MAAAA","names":["MottoDetailsComponent","constructor","companyService","mottoService","route","ngOnInit","paramMap","subscribe","handleCompanyDetails","theCompanyId","snapshot","get","getCompany","data","company","getMotto","motto","console","log","phrases","getPhrases","i0","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\pleiades\\workspace\\spring-boot-motto\\src\\main\\client\\src\\app\\components\\motto-details\\motto-details.component.ts","C:\\pleiades\\workspace\\spring-boot-motto\\src\\main\\client\\src\\app\\components\\motto-details\\motto-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Company } from 'src/app/common/company';\nimport { Motto } from 'src/app/common/motto';\nimport { CompanyService } from 'src/app/services/company.service';\nimport { MottoService } from 'src/app/services/motto.service';\n\n@Component({\n  selector: 'app-motto-details',\n  templateUrl: './motto-details.component.html',\n  styleUrls: ['./motto-details.component.css']\n})\nexport class MottoDetailsComponent implements OnInit {\n\n  company!: Company;\n  motto!: Motto;\n\n  phrases: string[] = [];\n\n  constructor(private companyService: CompanyService,\n              private mottoService: MottoService,\n              private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(() => {\n      this.handleCompanyDetails();\n    })\n  }\n\n  async handleCompanyDetails() {\n\n    const theCompanyId: number = +this.route.snapshot.paramMap.get('id')!;\n\n    await this.companyService.getCompany(theCompanyId).subscribe(\n      data => {\n        this.company = data;\n      }\n    )\n    \n    await this.mottoService.getMotto(theCompanyId).subscribe(\n      data => {\n        this.motto = data;\n\n        console.log(this.motto);\n      }\n    )\n\n    await this.phrases = this.mottoService.getPhrases(this.motto);\n\n    console.log(this.phrases)\n\n  }\n\n}\n","<div class=\"detail-section\">\n    <div class=\"container-fluid\">\n        <div class=\"row\">\n            <div class=\"col-12\"> \n                <img src=\"{{ company.imageUrl }}\" class=\"detail-img\">\n            </div>\n            <div class=\"col-12\"> \n                <h3>{{ company.companyName }}</h3>\n            </div>\n            <!-- mottoのリストではない。手動でリストを作り、phraseをループさせる。\n            <div *ngFor=\"let tempMotto of Mottoes\" class=\"col-12\"> \n            </div>\n            -->\n        </div>\n        <a routerLink=\"/companies\" class=\"mt-5\">会社一覧</a>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}